<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js"
    integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
    integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
<!-- 부가적인 테마 -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
ㅁ
    .form{
        margin: 0 auto;
        width: 500px;
        margin-top: 100px;
    }

    .text-center{
        margin-top: 250px;
    }
</style>
<script>

    function post(){
        if (!localStorage.getItem("token")) {
                alert("로그인하세요!");
                window.location.href = "/";
                return;
            }
        //ajax로 post요청
        if($('#제목').val()===''){
            alert('제목을 입력하세요');
            return;
        }
        if($('#text').val()===''){
            alert('내용을 입력하세요');
            return;
        }
        
        $.ajax({
            url: '/post/posting',
            type: 'POST',
            contentType: "application/json;charset=utf-8",
            data:JSON.stringify({
                title: $('#제목').val(),
                description: $('#text').val(),
                key: localStorage.getItem('token')
            }),
            success: function (data) {
                alert("글이 등록되었습니다.");
                window.location.href = "/";
            },
       
    })}
             
                
            
</script>
<body>

    <p class="text-center">Creat post</p>
    <div class="form">

        <p><label  for="inputPassword5" class="form-label">제목</label></p>

<p><input id="제목" type="text" id="inputtext5" class="form-control" aria-describedby="textHelpBlock"></p>

<p><div id="passwordHelpBlock" class="form-text"></p>
</div>
        <p><textarea id= "text" class="form-control" rows="3">내용을 입력하세요</textarea></p>
        <button onclick="post()">작성</button>
        <div>

</body>
</html>